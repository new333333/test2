<?xml version="1.0" encoding="iso-8859-1"?>

<targets>

 <target id="b9vcafr" pid="b9vcafr" name="Chapter" level="0" number="1"> <text>Installing ICEcore</text> </target>

 <target id="b9vchn5" pid="b9vchn5" name="Sect1" level="1" number="1.1"> <text>Prerequisites</text> </target>

 <target id="bannybx" pid="b9vchn5" name="BridgeHead" level="2"> <text>How much disk do you need?</text> </target>

 <target id="b9vchn6" pid="b9vchn6" name="Sect1" level="1" number="1.2"> <text>Steps for Installing ICEcore</text> </target>

 <target id="b9ptkcb" pid="b9vchn6" name="Procedure" level="2"> <text>The following sequence shows the steps you want to follow to install ICEcore:</text> </target>

 <target id="b9ptkcc" pid="b9vchn6" name="Step" level="3" number="1"> <text>Install JDK (Sun JDK 1.5.0_011 or higher).</text> </target>

 <target id="bbevhpb" pid="b9vchn6" name="Step" level="3" number="2"> <text>Set JAVA_HOME environment variable.</text> </target>

 <target id="b9ptl7r" pid="b9vchn6" name="Step" level="3" number="3"> <text>Install and Configure the Database Server.</text> </target>

 <target id="b9ptld7" pid="b9vchn6" name="Step" level="3" number="4"> <text>Download the appropriate ICEcore kit.</text> </target>

 <target id="b9ptlge" pid="b9vchn6" name="Step" level="3" number="5"> <text>Edit the installer.xml file (see Editing the Installer (.xml) File).</text> </target>

 <target id="bbijs99" pid="b9vchn6" name="Step" level="3" number="6"> <text>If you want to run the indexing service in ICEcore on a different machine from ICEcore, you have to Install the Lucene Index Server on the other machine.</text> </target>

 <target id="b9ptlgi" pid="b9vchn6" name="Step" level="3" number="7"> <text>Run the installer (on Linux, do a chmod +x -(liferay|jboss).linux to make the installer executable).</text> </target>

 <target id="b9ptlgm" pid="b9vchn6" name="Step" level="3" number="8"> <text>Start and Stop ICEcore.</text> </target>

 <target id="b9vchn7" pid="b9vchn7" name="Sect1" level="1" number="1.3"> <text>Database Planning</text> </target>

 <target id="bannyhr" pid="b9vchn7" name="BridgeHead" level="2"> <text>MySQL</text> </target>

 <target id="bannylt" pid="b9vchn7" name="BridgeHead" level="2"> <text>Microsoft SQL Server </text> </target>

 <target id="bbn6eqh" pid="b9vchn7" name="BridgeHead" level="2"> <text>Oracle Database</text> </target>

 <target id="bbn6o2j" pid="b9vchn7" name="BridgeHead" level="2"> <text>Non-Local Database Setup</text> </target>

 <target id="bbn6rez" pid="b9vchn7" name="BridgeHead" level="2"> <text>Port 80/443 configuration on Linux</text> </target>

 <target id="b9vchn8" pid="b9vchn8" name="Sect1" level="1" number="1.4"> <text>File System Planning</text> </target>

 <target id="bbn8hra" pid="bbn8hra" name="Sect1" level="1" number="1.5"> <text>Integrating with iChain</text> </target>

 <target id="bbn8q05" pid="bbn8hra" name="BridgeHead" level="2"> <text>To set up an iChain proxy, the following steps must be taken:</text> </target>

 <target id="bbn8j9e" pid="bbn8hra" name="Procedure" level="2" number="1"> <text>Assure that the iChain proxy's port number matches the ICEcore/Liferay port number. For example, if you have configured ICEcore to run on port 8080, the iChain proxy must also use port 8080. If you change ports through the proxy, some ICEcore features do not work properly.</text> </target>

 <target id="bbn8j9f" pid="bbn8hra" name="Step" level="3" number="1"> <text>Assure that the iChain proxy's port number matches the ICEcore/Liferay port number. For example, if you have configured ICEcore to run on port 8080, the iChain proxy must also use port 8080. If you change ports through the proxy, some ICEcore features do not work properly.</text> </target>

 <target id="bbn8jfu" pid="bbn8hra" name="Step" level="3" number="2"> <text>Edit the SSO section in the installer.xml file and set the SSO enable="true", set the Logoff URL to the log-off URL provided by the iChain proxy server, and set the IP address of the iChain proxy server.</text> </target>

 <target id="bbn8jfw" pid="bbn8hra" name="Step" level="3" number="3"> <text>Install the software or, if you have already installed ICEcore, stop the running server and use the installer's "Apply Settings only" option.</text> </target>

 <target id="bbn8jfy" pid="bbn8hra" name="Step" level="3" number="4"> <text>After enabling the iChain SSO, you need to log into Liferay using a direct login URL: http://localhost:8080/c/portal/login and log in as admin. Since the SSO configuration removes the "Sign In" link, you must type the URL manually.</text> </target>

 <target id="bbn8jg1" pid="bbn8hra" name="Step" level="3" number="5"> <text>If you have not already done this, use Liferay's Admin portlet to enable LDAP-based authentication. This setup is necessary since Liferay has to copy user data from the LDAP into the portal database upon user login.</text> </target>

 <target id="bbn8jg5" pid="bbn8hra" name="Step" level="3" number="6"> <text>To prevent users from logging into the portal directly through the portal's login form, remove or rename the following file from ICEcore's liferay-portal-tomcat directory:</text> </target>

 <target id="bbn8nqy" pid="bbn8hra" name="Step" level="3" number="7"> <text>Liferay/ICEcore is now ready to be put behind the proxy. Consult your iChain documentation on how to do this.</text> </target>

 <target id="b9vchn9" pid="b9vchn9" name="Sect1" level="1" number="1.6"> <text>Editing the Installer (.xml) File</text> </target>

 <target id="banqre4" pid="b9vchn9" name="BridgeHead" level="2"> <text>For a quick installation edit the following sections:</text> </target>

 <target id="banqre5" pid="b9vchn9" name="Procedure" level="2" number="1"> <text>Change the Host name in the Network section. Change the port number to 80 and the securePort to 443 if this is a dedicated server.</text> </target>

 <target id="banqre6" pid="b9vchn9" name="Step" level="3" number="1"> <text>Change the Host name in the Network section. Change the port number to 80 and the securePort to 443 if this is a dedicated server.</text> </target>

 <target id="banqre7" pid="b9vchn9" name="Step" level="3" number="2"> <text>Consider changing the JavaVirtualMachine setting in the Memory section if you have a large installation.</text> </target>

 <target id="banqre8" pid="b9vchn9" name="Step" level="3" number="3"> <text>Use the default file system configuration. This stores the files in /home/icecoredata</text> </target>

 <target id="banqre9" pid="b9vchn9" name="Step" level="3" number="4"> <text>The default database configuration is MySQL, with the default MySQL passwords.</text> </target>

 <target id="banqrea" pid="b9vchn9" name="Step" level="3" number="5"> <text>Use the default Lucene configuration (unless you are installing a standalone Lucene Index Server.</text> </target>

 <target id="banqreb" pid="b9vchn9" name="Step" level="3" number="6"> <text>Modify the Email section with your SMTP and POP/IMAP servers.</text> </target>

 <target id="banqrec" pid="b9vchn9" name="Step" level="3" number="7"> <text>If you are using ICEcore Conference, change the settings in the Presence configuration.</text> </target>

 <target id="b9vchna" pid="b9vchna" name="Sect1" level="1" number="1.7"> <text>Running the Installer</text> </target>

 <target id="bbikzkn" pid="b9vchna" name="Procedure" level="2" number="1"> <text>Run the installer (on Linux, do a chmod +x -(liferay|jboss).linux to make the installer executable).</text> </target>

 <target id="bbil5vv" pid="b9vchna" name="Step" level="3" number="1"> <text>Run the installer (on Linux, do a chmod +x -(liferay|jboss).linux to make the installer executable).</text> </target>

 <target id="bbikzko" pid="b9vchna" name="Step" level="3" number="2"> <text>Answer Yes to the license agreement:</text> </target>

 <target id="bbil0y7" pid="b9vchna" name="Step" level="3" number="3"> <text>Enter the type of install you are performing:</text> </target>

 <target id="bbn4gx6" pid="b9vchna" name="FormalPara" level="4" number="1."> <text>FULL INSTALL</text> </target>

 <target id="bbn4gwb" pid="b9vchna" name="FormalPara" level="4" number="2."> <text>UPDATE</text> </target>

 <target id="bbn4gv4" pid="b9vchna" name="FormalPara" level="4" number="3."> <text>Lucene Server</text> </target>

 <target id="bbn4gu1" pid="b9vchna" name="FormalPara" level="4" number="4."> <text>Apply Settings</text> </target>

 <target id="bbn4gdd" pid="b9vchna" name="FormalPara" level="4" number="5."> <text>Create Initial Database Scripts</text> </target>

 <target id="bbil1ux" pid="b9vchna" name="Step" level="3" number="4"> <text>Review the installation messages and enter Y to continue the install or N to cancel:</text> </target>

 <target id="bbil3me" pid="b9vchna" name="Step" level="3" number="5"> <text>The install process asks you if want to create the ICEcore databases at this time; select 1 to create the databases or 2 to skip this step:</text> </target>

 <target id="b9vchnb" pid="b9vchnb" name="Sect1" level="1" number="1.8"> <text>Starting and Stopping ICEcore</text> </target>

 <target id="bannxe9" pid="b9vchnb" name="BridgeHead" level="2"> <text>Starting ICEcore</text> </target>

 <target id="bant502" pid="b9vchnb" name="BridgeHead" level="2"> <text>Setting up ICEcore to start on system startup</text> </target>

 <target id="bant5c0" pid="b9vchnb" name="Procedure" level="2" number="1"> <text>C:\yourinstall\liferay-portal-tomcat-5.5-jdk5-4.3.0\bin\service.bat install icecore</text> </target>

 <target id="bant5c1" pid="b9vchnb" name="Step" level="3" number="1"> <text>C:\yourinstall\liferay-portal-tomcat-5.5-jdk5-4.3.0\bin\service.bat install icecore</text> </target>

 <target id="bant6f3" pid="b9vchnb" name="Step" level="3" number="2"> <text>Use the Services Control Panel to configure the service to your needs.</text> </target>

 <target id="bant6o3" pid="b9vchnb" name="Procedure" level="2" number="1"> <text>cp  /yourinstall/liferay-portal-tomcat-5.5-jdk5-4.3.0/bin/icecore  /etc/init.d</text> </target>

 <target id="bant6vx" pid="b9vchnb" name="Step" level="3" number="1"> <text>cp  /yourinstall/liferay-portal-tomcat-5.5-jdk5-4.3.0/bin/icecore  /etc/init.d</text> </target>

 <target id="bant6wo" pid="b9vchnb" name="Step" level="3" number="2"> <text>chkconfig --add icecore </text> </target>

 <target id="bannyv1" pid="b9vchnb" name="BridgeHead" level="2"> <text>Log Files/Monitoring</text> </target>

 <target id="bannz0o" pid="b9vchnb" name="BridgeHead" level="2"> <text>Stopping ICEcore</text> </target>

 <target id="b9vchnf" pid="b9vchnf" name="Sect1" level="1" number="1.9"> <text>Memory Guidelines</text> </target>

 <target id="bano10m" pid="b9vchnf" name="BridgeHead" level="2"> <text>Hibernate Cache</text> </target>

 <target id="bbn5klr" pid="bbn5klr" name="Sect1" level="1" number="1.10"> <text>Security Guidelines</text> </target>

 <target id="b9vchng" pid="b9vchng" name="Sect1" level="1" number="1.11"> <text>Document Support</text> </target>

 <target id="bano1bk" pid="b9vchng" name="BridgeHead" level="2"> <text>Editing Support</text> </target>

 <target id="bbijvt7" pid="bbijvt7" name="Sect1" level="1" number="1.12"> <text>Installing the Lucene Index Server</text> </target>

 <target id="bbijx0b" pid="bbijvt7" name="Sect2" level="2" number="1.12.1"> <text>Install a Standalone Lucene Index Server for a New ICEcore Application</text> </target>

 <target id="bbijw1t" pid="bbijvt7" name="Procedure" level="3" number="1"> <text>Edit the Installer.xml file (see "The sample-installer.xml File" on page li):</text> </target>

 <target id="bbijw1u" pid="bbijvt7" name="Step" level="4" number="1"> <text>Edit the Installer.xml file (see "The sample-installer.xml File" on page li):</text> </target>

 <target name="SubSteps" level="5"> <text>In the Lucene section set luceneLocation="server"</text> </target>

 <target id="bbik1we" pid="bbijvt7" name="Step" level="6" number="1a"> <text>In the Lucene section set luceneLocation="server"</text> </target>

 <target id="bbik1wm" pid="bbijvt7" name="Step" level="6" number="1b"> <text>If necessary, edit the default rmi port: lucene.rmi.port="1099"</text> </target>

 <target id="bbik1r2" pid="bbijvt7" name="Step" level="4" number="2"> <text>Run the installer on the standalone machine and choose the option for: ICEcore Enterprise Lucene Server (see Section 1.7, "Running the Installer," on page xv).</text> </target>

 <target id="bbiks4e" pid="bbijvt7" name="Step" level="4" number="3"> <text>Start the server at the end of the installation:</text> </target>

 <target name="SubSteps" level="5"> <text>Change directories to lucene-server-installation-dir</text> </target>

 <target id="bbikt0x" pid="bbijvt7" name="Step" level="6" number="3a"> <text>Change directories to lucene-server-installation-dir</text> </target>

 <target id="bbiktkq" pid="bbijvt7" name="Step" level="6" number="3b"> <text>Run the rmiregistry-startup script in the bin directory</text> </target>

 <target id="bbiktxj" pid="bbijvt7" name="Step" level="6" number="3c"> <text>Run the indexserver-startup script in the bin directory</text> </target>

 <target id="bbikukj" pid="bbijvt7" name="Step" level="4" number="4"> <text>Run the normal installation of ICEcore (see Section 1.7, "Running the Installer," on page xv).</text> </target>

 <target id="bbijxwe" pid="bbijvt7" name="Sect2" level="2" number="1.12.2"> <text>Install a Standalone Lucene Index Server for an Existing ICEcore Application</text> </target>

 <target id="bbikxce" pid="bbijvt7" name="Procedure" level="3" number="1"> <text>Edit the Installer.xml file (see "The sample-installer.xml File" on page li):</text> </target>

 <target id="bbikxcf" pid="bbijvt7" name="Step" level="4" number="1"> <text>Edit the Installer.xml file (see "The sample-installer.xml File" on page li):</text> </target>

 <target name="SubSteps" level="5"> <text>In the Lucene section set luceneLocation="server"</text> </target>

 <target id="bbikxcg" pid="bbijvt7" name="Step" level="6" number="1a"> <text>In the Lucene section set luceneLocation="server"</text> </target>

 <target id="bbikxch" pid="bbijvt7" name="Step" level="6" number="1b"> <text>If necessary, edit the default rmi port: lucene.rmi.port="1099"</text> </target>

 <target id="bbikvyx" pid="bbijvt7" name="Step" level="4" number="2"> <text>Shutdown ICEcore (see Section 1.8, "Starting and Stopping ICEcore," on page xvii).</text> </target>

 <target id="bbikvyy" pid="bbijvt7" name="Step" level="4" number="3"> <text>Run the installer on the standalone machine and choose the option for: ICEcore Enterprise Lucene Server (see Section 1.7, "Running the Installer," on page xv).</text> </target>

 <target id="bbikwsp" pid="bbijvt7" name="Step" level="4" number="4"> <text>Run the installer on the standalone machine and choose the option for: Apply settings only (see Section 1.7, "Running the Installer," on page xv).</text> </target>

 <target id="bbn3gt6" pid="bbijvt7" name="Step" level="4" number="5"> <text>Edit the lucene-server.properties file in the directory into which you just installed the lucene server.</text> </target>

 <target id="bbn3gwp" pid="bbijvt7" name="Step" level="4" number="6"> <text>Create a liferay.com directory in the index.root.dir in the filesystem.</text> </target>

 <target id="bbn3gwt" pid="bbijvt7" name="Step" level="4" number="7"> <text>Move all the files from the RootDirectory (found in your installer.xml file on the server) to the liferay.com directory you just created.</text> </target>

 <target id="bbn3gww" pid="bbijvt7" name="Step" level="4" number="8"> <text>For Unix systems, make sure permissions are set so that the ICEcore user has full access to these files and the liferay.com directory.</text> </target>

 <target id="bbikvyz" pid="bbijvt7" name="Step" level="4" number="9"> <text>Start the server at the end of the installation (if not started already):</text> </target>

 <target name="SubSteps" level="5"> <text>Change directories to lucene-server-installation-dir</text> </target>

 <target id="bbikvz0" pid="bbijvt7" name="Step" level="6" number="9a"> <text>Change directories to lucene-server-installation-dir</text> </target>

 <target id="bbikvz1" pid="bbijvt7" name="Step" level="6" number="9b"> <text>Run the rmiregistry-startup script in the bin directory</text> </target>

 <target id="bbikvz2" pid="bbijvt7" name="Step" level="6" number="9c"> <text>Run the indexserver-startup script in the bin directory</text> </target>

 <target id="bbikwk1" pid="bbijvt7" name="Step" level="4" number="10"> <text>Restart ICEcore (see Section 1.8, "Starting and Stopping ICEcore," on page xvii).</text> </target>

</targets>
