<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "../dtd/spring-beans.dtd">

<beans>
	<!-- ============================== Modules ============================= -->

	<bean id="folderModuleTarget" parent="dependOnCommonServicesTemplate" class="org.kablink.teaming.module.folder.impl.BaseFolderModule">
		<property name="definitionModule"><ref bean="definitionModule"/></property>
		<property name="fileModule"><ref bean="fileModule"/></property>
    	<property name="binderModule"><ref bean="binderModule"/></property>
	</bean>

	<bean id="licenseModuleTarget" parent="dependOnCommonServicesTemplate" class="org.kablink.teaming.module.license.impl.BaseLicenseModule">
		<property name="reportModule"><ref bean="reportModule"/></property>
	</bean>

	<!--  Initialize the zone and checks dependencies -->
	<bean id="zoneModule" parent="moduleNonTransactionProxy">
		<property name="target">
			<bean parent="dependOnCommonServicesTemplate" class="org.kablink.teaming.module.zone.impl.BaseZoneModule" depends-on="nlt, zoneConfig, binderAccessUtils" >
				<property name="transactionTemplate"><ref bean="transactionTemplate"/></property>
				<property name="templateModule"><ref bean="templateModule"/></property>
				<property name="adminModule"><ref bean="adminModule"/></property>
				<property name="definitionModule"><ref bean="definitionModule"/></property>
				<property name="profileModule"><ref bean="profileModule"/></property>
				<property name="binderModule"><ref bean="binderModule"/></property>
				<property name="ldapModule"><ref bean="ldapModule"/></property>
				<property name="zoneClassManager"><ref bean="zoneClassManager"/></property>
				<property name="scheduleModules">
					<list>
					<ref bean="folderModule"/>
					<ref bean="licenseModule"/>
					<ref bean="mailModule"/>
					<ref bean="workflowModule"/>
					</list>
				</property>
			</bean>
		</property>
		<!--<property name="proxyInterfaces">
			<value>org.kablink.teaming.module.zone.ZoneModule</value>
		</property>-->
	</bean>
	
	<bean id="adminModuleTarget" parent="dependOnCommonServicesTemplate" class="org.kablink.teaming.module.admin.impl.BaseAdminModule">
		<property name="mailModule"><ref bean="mailModule"/></property>
		<property name="definitionModule"><ref bean="definitionModule"/></property>
		<property name="folderModule"><ref bean="folderModule"/></property>
		<property name="workspaceModule"><ref bean="workspaceModule"/></property>
		<property name="binderModule"><ref bean="binderModule"/></property>
		<property name="dashboardModule"><ref bean="dashboardModule"/></property>
		<property name="fileModule"><ref bean="fileModule"/></property>
		<property name="icalModule"><ref bean="icalModule"/></property>
		<property name="transactionTemplate"><ref bean="transactionTemplate"/></property>
		<property name="reportModule"><ref bean="reportModule"/></property>
		<property name="extensionManager"><ref bean="extensionManager" /></property>
	</bean>
	
	<!-- ============================== Services ============================= -->

	<bean id="archiveStore" class="org.kablink.teaming.repository.archive.impl.NullArchiveStore">
	</bean>
	
	<bean id="licenseManager" class="org.kablink.teaming.license.impl.NullLicenseManager"/>
	
	<!-- ============================== Document Converter ============================ -->

	<!-- View file as HTML manager implementation -->
    <bean id="htmlConverterManager" class="org.kablink.teaming.docconverter.impl.HtmlConverterManagerImpl">
    	<!-- Options 1=OpenOffice conversion implementation -->
    	<property name="active"><value>1</value></property>
    	<property name="openOfficeConverter"><ref bean="htmlOpenOfficeConverter"/></property>
    </bean>
    
    <bean id="textConverterManager" class="org.kablink.teaming.docconverter.impl.TextConverterManagerImpl">
    	<!-- Options 1=OpenOffice, 2=Stellent conversion implementation -->
    	<property name="active"><value>1</value></property>
    	<property name="openOfficeConverter"><ref bean="textOpenOfficeConverter"/></property>
    </bean>
    
    <bean id="imageConverterManager" class="org.kablink.teaming.docconverter.impl.ImageConverterManagerImpl">
    	<!-- Options 1=OpenOffice, 2=Stellent conversion implementation -->
    	<property name="active"><value>1</value></property>
    	<property name="openOfficeConverter"><ref bean="imageOpenOfficeConverter"/></property>
    </bean>
    
	<!-- ============================== Relevance Engine ============================ -->
    
    <!--  Relevance manager integration. -->
    <bean id="relevanceEngineImpl" class="org.kablink.teaming.relevance.impl.RelevanceEngine" />
    <bean id="relevanceManager" class="org.kablink.teaming.relevance.impl.RelevanceManagerImpl">
        <property name="relevanceEngine"><ref bean="relevanceEngineImpl"/></property>
    </bean>
        
    <!-- ============================= File Integration Service ============================ -->
    
	<bean id="resourceDriverManager" class="org.kablink.teaming.fi.connection.impl.NullResourceDriverManager"/>
    
    <bean id="fiAdapter" class="org.kablink.teaming.repository.fi.impl.NullFIRepositorySessionFactoryAdapter"/>
	
    <!-- ============================= Presence Service    ============================ -->
	<bean id="presenceServiceImpl" class="org.kablink.teaming.presence.impl.PresenceManagerImpl">
		<property name="jabberServer"><value>${presence.service.jabber.server}</value></property>
		<property name="jabberServerPort"><value>${presence.service.jabber.server.port}</value></property>
		<property name="enabled"><value>${presence.service.enable}</value></property>
	</bean>
</beans>
