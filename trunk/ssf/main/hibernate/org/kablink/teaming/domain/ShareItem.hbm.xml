<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping auto-import="false">
  <class table="SS_ShareItem" discriminator-value="A" name="org.kablink.teaming.domain.ShareItem">
    <id unsaved-value="null" name="id" type="long">
      <generator class="native">
      	<param name="sequence">ss_shareitem_id_sequence</param>
      </generator>
    </id>
    <!-- Note that ShareItem domain class contains lockVersion property in memory. However, there is no
         mapping element that maps it to a database column, meaning that optimistic locking is not used
         for this class. -->
    <property name="zoneId" access="field"/>
    <component name="creation" class="org.kablink.teaming.domain.HistoryStamp">
      <property name="date" column="creation_date" type="timestamp"/>
      <many-to-one class="org.kablink.teaming.domain.UserPrincipal" name="principal">
        <column name="creation_principal"/>
      </many-to-one>
    </component>
    <component name="modification" class="org.kablink.teaming.domain.HistoryStamp">
      <property name="date" column="modification_date" type="timestamp"/>
      <many-to-one class="org.kablink.teaming.domain.UserPrincipal" name="principal">
        <column name="modification_principal"/>
      </many-to-one>
    </component>
    <component name="sharedEntityIdentifier" class="org.kablink.teaming.domain.EntityIdentifier">
      <property name="type" column="sharedEntity_type" type="int" index="sharedEntity_shareitem"/>
      <property name="entityId" column="sharedEntity_id" index="sharedEntity_shareitem"/>
    </component>
    <bag inverse="false" access="field" cascade="all,delete-orphan" lazy="false" name="members">
      <key column="shareItemId"/>
      <one-to-many class="org.kablink.teaming.domain.ShareItemMember"/>
    </bag>
  </class>
</hibernate-mapping>
