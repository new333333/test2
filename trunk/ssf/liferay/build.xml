<?xml version="1.0"?>

<project name="liferay-open" basedir="." >
	<!-- This setting will override the value in the properties file -->
	<property name="portal.type" value="liferay"/>
	
	<import file="../build-common.xml" />
	
	<import file="../deploy-support.xml" />
	
	<target name="clean">
		<ant dir="liferay" target="clean" inheritall="false"/>
		<ant dir="teaming" target="clean" inheritall="false"/>
	</target>
	
	<target name="compile">
		<ant dir="liferay" target="compile" inheritall="false"/>
		<ant dir="teaming" target="compile" inheritall="false"/>
	</target>
	
	<target name="jar">
		<ant dir="liferay" target="jar" inheritall="false"/>
		<ant dir="teaming" target="jar" inheritall="false"/>
	</target>
	
	<target name="build">
		<ant dir="liferay" target="build" inheritall="false"/>
		<ant dir="teaming" target="build" inheritall="false"/>
	</target>

	<target name="java2html">
		<ant dir="liferay" target="java2html" inheritall="false"/>
		<ant dir="teaming" target="java2html" inheritall="false"/>
	</target>
	
	<target name="javadoc">
		<ant dir="liferay" target="javadoc" inheritall="false"/>
		<ant dir="teaming" target="javadoc" inheritall="false"/>
	</target>
	
	<!-- Deploy additional components that are not part of ssf web app -->
	<target name="deploy-additional-components">
		<!-- AS core component is deployed into the app server's shared area -->
		<ant dir="${project.dir}/as-module" target="deploy" inheritAll="false" />
		<!-- portal-module component is deployed directly into Liferay web app -->
		<ant dir="${project.dir}/portal-module" target="deploy" inheritAll="false" />
		<!-- liferay component is deployed directly into Liferay web app -->
		<ant dir="${project.dir}/liferay" target="deploy" inheritAll="false" />
		<!-- ssfs component is deployed into its own web app -->
		<ant dir="${project.dir}/ssfs" target="deploy" inheritAll="false" />
		<!-- ssr component is deployed into its own web app -->
		<ant dir="${project.dir}/ssr" target="deploy" inheritAll="false" />
		<!-- simnple-url component is deployed into its own web app -->
		<ant dir="${project.dir}/simple-url" target="deploy" inheritAll="false" />
		<ant dir="${project.dir}/mobile" target="deploy" inheritAll="false" />
	</target>

	<target name="deploy">
		<ant dir="liferay" target="deploy" inheritall="false"/>
		<ant dir="teaming" target="deploy" inheritall="false"/>
	</target>

	<target name="full-deploy">
		<ant dir="liferay" target="full-deploy" inheritall="false"/>
		<ant dir="teaming" target="full-deploy" inheritall="false"/>
		<antcall target="deploy-additional-components" />
	</target>

</project>